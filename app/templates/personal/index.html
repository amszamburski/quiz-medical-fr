{% extends "base.html" %}
{% block title %}Concours Personnel{% endblock %}
{% block content %}
<div style="max-width: 900px; margin: 0 auto;">
  <div class="card">
    <div class="card-header text-center">
      <h1 class="mb-md">Challenge personnel</h1>
      <div class="text-secondary" style="font-size: var(--font-size-base);">Choisissez un ou plusieurs sujets pour vous entraîner</div>
    </div>
    <div class="card-content">
      <form id="personal-topics-form" method="POST" action="{{ url_for('personal.select_topic') }}" class="text-center">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
        <div class="topic-grid">
          {% for topic in topics %}
          {% set parts = topic | topic_parts %}
          <label class="topic-card">
            <input type="checkbox" name="topics" value="{{ topic }}" />
            <span class="card-bg"></span>
            <span class="check" aria-hidden="true"></span>
            <span class="text" style="display:flex; flex-direction:column; align-items:center;">
              <span class="title" style="font-weight:700;">{{ parts[0] }}</span>
              {% if parts[1] %}
              <span class="subtitle" style="font-size: var(--font-size-sm); color: var(--text-secondary);">{{ parts[1] }}</span>
              {% endif %}
            </span>
          </label>
          {% endfor %}
        </div>
      </form>
    </div>
  </div>

  <div class="text-center mt-lg" style="display:flex; gap: var(--space-md); justify-content:center; flex-wrap: wrap;">
    <a href="{{ url_for('main.index') }}" class="btn btn-secondary btn-large">Retour à l'accueil</a>
    <button type="submit" class="btn btn-primary btn-large" form="personal-topics-form">Commencer</button>
  </div>
</div>


{% endblock %}
