{% extends "base.html" %}
{% block title %}Résultat - Question{% endblock %}
{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <div style="background: #e9ecef; padding: 10px; border-radius: 5px; margin-bottom: 20px;">
        <h2>Résultat</h2>
    </div>

    <div style="background: {% if evaluation.score >= 4 %}#d4edda{% elif evaluation.score >= 3 %}#fff3cd{% else %}#f8d7da{% endif %}; padding: 20px; border-radius: 5px; margin-bottom: 20px;">
        <h3>Score: {{ evaluation.score }}/5 {% if evaluation.score == 5 %} (Excellent){% elif evaluation.score == 4 %} (Très bien){% elif evaluation.score == 3 %} (Bien){% elif evaluation.score == 2 %} (Moyen){% else %} (Insuffisant){% endif %}</h3>
        <h4>Feedback</h4>
        <p>{{ evaluation.feedback }}</p>
    </div>

    {% if evaluation.educational_content %}
    <div style="background: #f8f9fa; padding: 20px; border-radius: 5px; margin-bottom: 20px;">
        <h3>Contenu Éducatif</h3>
        <p style="line-height: 1.6;">{{ evaluation.educational_content }}</p>

        {% if evaluation.recommendation %}
        <div style="margin-top: 15px; padding: 10px; background: #e9ecef; border-radius: 3px;">
            <h4>Recommandation</h4>
            <p style="font-size: 14px; line-height: 1.5;">{{ evaluation.recommendation.recommendation }}</p>
            {% if evaluation.recommendation.references %}
            <p style="font-size: 12px; color: #666; margin-top: 10px;">
                <strong>Références:</strong> {{ evaluation.recommendation.references }}
            </p>
            {% endif %}
        </div>
        {% endif %}
    </div>
    {% endif %}

    <div style="text-align: center; margin-top: 30px;">
        <h3>Quiz terminé !</h3>
        <a href="{% if contest_type == 'national' %}{{ url_for('national.results') }}{% else %}{{ url_for('personal.results') }}{% endif %}"
           style="display: inline-block; padding: 12px 24px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; font-size: 16px;">
            Voir les résultats finaux
        </a>
    </div>
</div>
{% endblock %}